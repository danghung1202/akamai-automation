"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6832],{9195:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var o=s(4848),t=s(8453);const i={slug:"setup-nodejs-package-with-doc",title:"How To Set Up the Node.js Package project with Docusaurus",tags:["hola","docusaurus"]},c=void 0,r={permalink:"/akamai-automation/blog/setup-nodejs-package-with-doc",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2024-08-26-setup-nodejs-package-with-doc.md",source:"@site/blog/2024-08-26-setup-nodejs-package-with-doc.md",title:"How To Set Up the Node.js Package project with Docusaurus",description:"To integrate the Docusaurus documentation site within your Node.js package project and have it under a docs folder, you can follow these steps:",date:"2024-08-26T00:00:00.000Z",tags:[{inline:!1,label:"Hola",permalink:"/akamai-automation/blog/tags/hola",description:"Hola tag description"},{inline:!1,label:"Docusaurus",permalink:"/akamai-automation/blog/tags/docusaurus",description:"Docusaurus tag description"}],readingTime:2.535,hasTruncateMarker:!1,authors:[],frontMatter:{slug:"setup-nodejs-package-with-doc",title:"How To Set Up the Node.js Package project with Docusaurus",tags:["hola","docusaurus"]},unlisted:!1,nextItem:{title:"Welcome",permalink:"/akamai-automation/blog/welcome"}},a={authorsImageUrls:[]},l=[{value:"1. <strong>Set Up the Node.js Package</strong>",id:"1-set-up-the-nodejs-package",level:3},{value:"2. <strong>Set Up Docusaurus Inside the <code>docs</code> Folder</strong>",id:"2-set-up-docusaurus-inside-the-docs-folder",level:3},{value:"3. <strong>Set Up GitHub Actions</strong>",id:"3-set-up-github-actions",level:3},{value:"4. <strong>Commit, Push, and Deploy</strong>",id:"4-commit-push-and-deploy",level:3},{value:"Final Structure",id:"final-structure",level:3}];function d(e){const n={a:"a",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["To integrate the Docusaurus documentation site within your Node.js package project and have it under a ",(0,o.jsx)(n.code,{children:"docs"})," folder, you can follow these steps:"]}),"\n",(0,o.jsxs)(n.h3,{id:"1-set-up-the-nodejs-package",children:["1. ",(0,o.jsx)(n.strong,{children:"Set Up the Node.js Package"})]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Create a new directory:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir my-node-package\ncd my-node-package\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Initialize a Node.js project:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm init -y\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Install necessary dependencies:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev jest\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["Create a ",(0,o.jsx)(n.code,{children:".gitignore"})," file:"]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'echo "node_modules" > .gitignore\n'})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"2-set-up-docusaurus-inside-the-docs-folder",children:["2. ",(0,o.jsxs)(n.strong,{children:["Set Up Docusaurus Inside the ",(0,o.jsx)(n.code,{children:"docs"})," Folder"]})]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["Create the Docusaurus project inside the ",(0,o.jsx)(n.code,{children:"docs"})," folder:"]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npx create-docusaurus@latest docs classic\ncd docs\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Update Docusaurus configuration:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Open ",(0,o.jsx)(n.code,{children:"docusaurus.config.js"})," inside the ",(0,o.jsx)(n.code,{children:"docs"})," folder and configure the ",(0,o.jsx)(n.code,{children:"url"})," and ",(0,o.jsx)(n.code,{children:"baseUrl"})," as follows:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\n  // Other configurations...\n\n  url: 'https://<username>.github.io',\n  baseUrl: '/<repo-name>/',\n  organizationName: '<username>', // GitHub organization/user name.\n  projectName: '<repo-name>', // GitHub repo name.\n\n  // Other configurations...\n};\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"3-set-up-github-actions",children:["3. ",(0,o.jsx)(n.strong,{children:"Set Up GitHub Actions"})]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Configure GitHub Actions for NPM Publishing"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Create a GitHub Actions workflow:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir -p .github/workflows\ntouch .github/workflows/publish.yml\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Edit the ",(0,o.jsx)(n.code,{children:"publish.yml"})," file:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"name: Node.js Package\n\non:\n  push:\n    branches:\n      - main\n    tags:\n      - 'v*.*.*'\n\njobs:\n  release:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Check out the code\n        uses: actions/checkout@v3\n\n      - name: Set up Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: '18'\n          registry-url: 'https://registry.npmjs.org'\n          cache: 'npm'\n\n      - name: Install dependencies\n        run: npm install\n\n      - name: Run tests\n        run: npm test\n\n      - name: Publish to npm\n        run: npm publish\n        env:\n          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," Ensure you add your ",(0,o.jsx)(n.code,{children:"NPM_TOKEN"})," as a secret in your GitHub repository. Following this link ",(0,o.jsx)(n.a,{href:"https://stackoverflow.com/questions/70631423/github-action-for-npm-publish-fails",children:"https://stackoverflow.com/questions/70631423/github-action-for-npm-publish-fails"})," to get correct NPM secret"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Configure GitHub Actions to Deploy Docusaurus Documentation"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Add another workflow file for deploying Docusaurus documentation:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"touch .github/workflows/deploy-docs.yml\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Edit the ",(0,o.jsx)(n.code,{children:"deploy-docs.yml"})," file:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"name: Deploy Docusaurus Documentation\n\non:\n  push:\n    branches:\n      - main\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Check out the code\n        uses: actions/checkout@v3\n\n      - name: Set up Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: '18'\n\n      - name: Install dependencies\n        run: cd docs && npm install\n\n      - name: Build the site\n        run: cd docs && npm run build\n\n      - name: Deploy to GitHub Pages\n        run: cd docs && GIT_USER=<username> npm run deploy\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," Replace ",(0,o.jsx)(n.code,{children:"<username>"})," and ",(0,o.jsx)(n.code,{children:"<repo-name>"})," with your GitHub username and repository name."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"4-commit-push-and-deploy",children:["4. ",(0,o.jsx)(n.strong,{children:"Commit, Push, and Deploy"})]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Add all files:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'git add .\ngit commit -m "Set up Node.js package, GitHub Actions, and Docusaurus documentation"\n'})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Push to GitHub:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"git push origin main\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"final-structure",children:"Final Structure"}),"\n",(0,o.jsx)(n.p,{children:"Your project structure should look like this:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"my-node-package/\n\u2502\n\u251c\u2500\u2500 .github/\n\u2502   \u2514\u2500\u2500 workflows/\n\u2502       \u251c\u2500\u2500 publish.yml\n\u2502       \u2514\u2500\u2500 deploy-docs.yml\n\u2502\n\u251c\u2500\u2500 docs/\n\u2502   \u251c\u2500\u2500 docusaurus.config.js\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 static/\n\u2502   \u251c\u2500\u2500 ...\n\u2502\n\u251c\u2500\u2500 node_modules/\n\u2502\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 README.md\n"})}),"\n",(0,o.jsx)(n.p,{children:"With this setup:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The Node.js package will be automatically published to npm when you push a new tag matching the pattern ",(0,o.jsx)(n.code,{children:"v*.*.*"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Documentation will be automatically built and deployed to GitHub Pages when changes are pushed to the ",(0,o.jsx)(n.code,{children:"main"})," branch."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>r});var o=s(6540);const t={},i=o.createContext(t);function c(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);